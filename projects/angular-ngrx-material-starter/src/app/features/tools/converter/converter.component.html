<mat-card>
    <mat-card-title>文件格式转换</mat-card-title>
    <mat-card-content>
        <button mat-raised-button color="primary" (click)="selectFile()">选择待转换的文件</button>
        已选择：{{form.get('file')?.value}}
        <br>
        <mat-form-field class="mt-1">
            <mat-label>选择要转换为的格式</mat-label>
            <mat-select [formControl]="form.controls['toType'] | formControl">
                <mat-option *ngFor="let tye of allowConvertToTypes" [value]="tye.value">{{tye.name}}</mat-option>
            </mat-select>
        </mat-form-field>
        <br>
        <button mat-raised-button color="primary" (click)="confirm()" [disabled]="form.invalid">开始</button>
        <button mat-raised-button color="" (click)="reset()" class="mx-1">重置</button>
        <br>
    </mat-card-content>
</mat-card>

<mat-card class="mt-1" *ngIf="outFiles.length > 0">
    <mat-card-title>
        <mat-card-subtitle>转换记录</mat-card-subtitle>
    </mat-card-title>
    <mat-card-content>
        <mat-list role="list">
            <mat-list-item role="listitem" *ngFor="let file of outFiles">
                <button mat-stroked-button color="primary" (click)="openFile(file.path)">打开</button>
                {{file.date | date:'shortTime'}} {{file.path}}</mat-list-item>
        </mat-list>
    </mat-card-content>
</mat-card>